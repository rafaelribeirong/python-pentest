import socket

def http_interaction(ip, port):
    try:
        # Cria um socket TCP
        s = socket.socket()
        s.settimeout(5)  # Define um tempo limite de 5 segundos para a conexão

        # Tenta se conectar ao IP e porta especificados
        s.connect((ip, port))

        # Envia uma requisição HTTP GET
        request = "GET / HTTP/1.1\r\nHost: {}\r\n\r\n".format(ip)
        s.send(request.encode())

        # Recebe a resposta do servidor
        response = s.recv(4096)
        return response.decode().strip()
    except Exception as e:
        return f"Erro ao conectar em {ip}:{port} - {e}"
    finally:
        s.close()

if __name__ == "__main__":
    ip = input("Digite o endereço IP: ")
    port = 80  # Porta padrão para HTTP

    response = http_interaction(ip, port)
    if response:
        print(f"Resposta do servidor HTTP em {ip}:{port}:\n{response}")
    else:
        print(f"Nenhuma resposta recebida de {ip}:{port}")
